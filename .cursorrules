# Cursor Rules for this workspace

## MANDATORY: Fix Guidance Requirements
When providing fixes, explanations, or quick fixes (Cmd+. or Problems panel), ALWAYS follow these requirements:

### 1. What the problem is in plain language
- Explain the issue clearly and simply
- Don't use jargon without explanation

### 2. Why it's happening in Terraform/AWS terms
- Provide technical context
- Explain the root cause
- Reference relevant Terraform/AWS concepts

### 3. The implications of the issue
- What could break if not fixed
- Why this issue matters
- Impact on the project/iteration

### 4. The fix, shown clearly
- Provide working code examples
- Show the corrected version
- Make it actionable

### 5. Broader learning context
- Best practices and alternatives
- How this fits into larger patterns
- Additional considerations for production

## Teaching Style Required
- NEVER give minimal fixes or single-line corrections
- ALWAYS provide educational explanations
- Include context and learning opportunities
- Use a teaching approach, not just problem-solving

## File References
- ALWAYS check .cursor/instructions/ before responding
- Follow fix_guidance.yaml for all quick fixes
- Reference relevant instruction files when applicable

## Response Quality
- Be thorough and educational
- Help the user learn and understand
- Provide context beyond just the immediate fix
- Make responses valuable for future reference

## Project Context
- This workspace contains cast-ec2 project (iteration 1.0)
- User prefers detailed, educational responses
- Follow established workflow patterns
- Reference iteration files when relevant

## Rule: prefer_user_configured_tools_in_listings
name: prefer_user_configured_tools_in_listings
description: Always answer tool-related prompts using the user's configured MCP servers and their tools; avoid generic capability lists.
priority: critical
when: before_response
conditions:
  - any_of:
      - user_query_matches:
          - "(?i)what (tools|can you use|do you have|are available)"
      - user_query_mentions: "tools"
      - user_query_mentions: "mcp"
      - user_query_mentions: "server"
      - user_query_mentions: "extension"
      - user_query_mentions: "configured"
      - user_query_mentions: "available"
actions:
  - inject_context:
      - "Use the user's configured MCP servers as the single source of truth for tool availability."
      - "Enumerate servers by name and include tool counts when known (e.g., MCP_Guardrail — 4 tools; evidence-validator — 2; playwright-mcp — 21)."
      - "If server details are available from the Zed MCP list, prefer those over assumptions."
      - "Do not list generic capabilities or hypothetical tools that are not configured."
      - "Answer in concise, human-friendly language. No runtime health checks unless explicitly requested."
  - enforce_style:
      - tone: "direct"
      - verbosity: "low"
      - structure: "short bulleted lists when helpful"
  - allow: true
otherwise:
  actions:
    - allow: true
    - note: "If the query is not about tools, proceed normally."



